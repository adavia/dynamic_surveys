#submissions-list.modal.fade
  .modal-dialog.modal-lg
    .modal-content
      .modal-header
        %button.close{"aria-label": "Close", "data-dismiss": "modal", type: "button"}
          %span{"aria-hidden": "true"} Ã—
        %h1.text-center.m-t-0
          #{@survey.customer.name} Survey Submissions
      .modal-body
        .m-b-1.text-center
          = form_tag(survey_submissions_path(@survey), method: "get",
            id: "submission-search-form", class: "form-inline", remote: true) do
            .form-group
              %label{for: "created_after"} From
              = text_field_tag :created_after, params[:created_after],
                placeholder: "Select a beginning date", id: "date_from",
                class: "form-control input-sm", data: { behavior: "date-picker" }
            .form-group
              %label{for: "created_before"} To
              = text_field_tag :created_before, params[:created_before],
                placeholder: "Select an ending date", id: "created_before",
                class: "form-control input-sm", data: { behavior: "date-picker" }
            .form-group
              %label{for: "question_id"} Question
              = select_tag :question_id,
                options_for_select(@survey.questions.collect {|q| [q.title, q.id, {"data-type": q.question_type}]}),
                prompt: "--- Question ---",
                id: "question_id", data: { behavior: "questions_select" },
                class: "form-control input-sm"

            .form-group#select-content
            = button_tag "SEARCH", class: "btn btn-default btn-sm"

        .submission-items
          = render @submissions

      .modal-footer
        - unless @submissions.next_page.nil?
          = link_to fa_icon("undo", text: "LOAD MORE SUBMISSIONS"),
          survey_submissions_path(@survey, page: @submissions.next_page),
          remote: true, title: "Load more submissions!",
          data: { "disable-with": "loading.." },
          class: "btn btn-sm btn-default text-center", id: "show_more"
        %button.btn.btn-sm.btn-primary{"data-dismiss": "modal", type: "button"} Close
